<!DOCTYPE html>
<!--재미나이 사용 코드-->
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERICA의 맛집 UI</title>
    <style>
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            background-color: #f4f4f9;
        }

        .container {
            width: 100%;
            max-width: 400px; 
            background-color: #ffffff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding-bottom: 20px;
        }

        .header {
            background-color: #3b5998; 
            color: white;
            padding: 30px 0;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            font-weight: bold;
            letter-spacing: 2px;
            margin: 0;
        }

        .button-section {
            padding: 20px;
        }

        .button-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .button {
            flex-grow: 1; 
            flex-basis: 0; 
            text-align: center;
            padding: 10px 0;
            margin: 0 5px; 
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            white-space: nowrap;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
        }

        /* 기본 버튼 스타일 */
        .category-button {
            border: 1px solid #3b5998;
            color: #3b5998;
            background-color: white;
        }

        .filter-button {
            border: 1px solid #7c7c7c;
            color: #555;
            background-color: white;
        }

        /* 클릭된(선택된) 상태 스타일 */
        .category-button.active {
            background-color: #3b5998;
            color: #ffffff;
        }

        .filter-button.active {
            background-color: #7c7c7c;
            color: #ffffff;
        }

        .search-area {
            display: flex;
            align-items: center;
            background-color: #e0e0e0;
            margin: 20px;
            height: 50px;
            border-radius: 5px;
            overflow: hidden;
        }

        .search-input {
            flex-grow: 1;
            background-color: transparent;
            border: none;
            padding: 0 15px;
            font-size: 16px;
            outline: none;
            color: #333;
        }

        .search-button {
            width: 80px;
            text-align: center;
            color: #555;
            font-weight: bold;
            border-left: 1px solid #ccc;
            height: 100%;
            line-height: 50px;
            cursor: pointer;
        }

        .recommend-area {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding: 0 20px;
            margin-bottom: 20px;
            position: relative; /* 정렬 메뉴 위치 기준 */
        }

        .dropdown {
            width: 60px;
            height: 30px;
            background-color: #d1d1d1;
            border-radius: 5px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
        }

        .dropdown::after {
            content: '▼';
            font-size: 10px;
            color: #555;
        }

        .random-button {
            padding: 8px 15px;
            background-color: #a0a0a0;
            color: white;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding: 0 20px;
        }

        .result-box {
            background-color: #7986ac;
            height: 150px;
            border-radius: 5px;
        }

        /* ====== 여기부터 기능 추가용 CSS ====== */

        .hidden {
            display: none;
        }

        /* 정렬 메뉴 (위치순/별점순/가격순) */
        .sort-menu {
            position: absolute;
            left: 20px;
            top: 35px;
            background-color: #ffffff;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            font-size: 12px;
            z-index: 10;
            overflow: hidden;
        }

        .sort-menu div {
            padding: 6px 10px;
            cursor: pointer;
            white-space: nowrap;
        }

        .sort-menu div:hover {
            background-color: #f0f0f0;
        }

        /* 박스 안에 내용 표시용 */
        .result-inner {
            padding: 8px;
            color: #ffffff;
            font-size: 12px;
            line-height: 1.4;
        }

        .result-name {
            font-weight: bold;
            margin-bottom: 4px;
            font-size: 14px;
        }

    </style>
</head>
<body>

<div class="container">
    <header class="header">
        <h1>ERICA의 맛집</h1>
    </header>

    <div class="button-section">
        <div class="button-row">
            <div class="button category-button">양식</div>
            <div class="button category-button">한식</div>
            <div class="button category-button">중식</div>
            <div class="button category-button">일식</div>
        </div>
        <div class="button-row">
            <div class="button filter-button">분위기</div>
            <div class="button filter-button">해장</div>
            <div class="button filter-button">가성비</div>
            <div class="button filter-button">간편식</div>
        </div>
    </div>

    <div class="search-area">
        <input type="text" class="search-input" placeholder="검색어를 입력하세요">
        <div class="search-button">
            | 검색
        </div>
    </div>

    <div class="recommend-area">
        <div class="dropdown"></div>
        <div class="random-button">랜덤 추천</div>
        <!-- 정렬 메뉴는 JS에서 생성해서 이 안에 붙임 -->
    </div>

    <div class="result-grid">
        <!-- JS에서 식당 카드가 들어감 -->
        <div class="result-box"></div>
        <div class="result-box"></div>
        <div class="result-box"></div>
        <div class="result-box"></div>
        <div class="result-box"></div>
        <div class="result-box"></div>
    </div>
</div>

<!-- 버튼 클릭 색 변경 + 검색/정렬 기능 JS -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        /* ===== 버튼 on/off 토글 (기존 기능 유지) ===== */
        const buttons = document.querySelectorAll('.button');
        buttons.forEach(function (btn) {
            btn.addEventListener('click', function () {
                this.classList.toggle('active');
            });
        });

        /* ===== 맛집 데이터 (예시) ===== */
        // distance: 위치(도보 분), rating: 별점, price: 1(저렴)~3(비쌈)
        const restaurants = [
            { name: "한양분식",   distance: 5,  rating: 4.5, price: 1 },
            { name: "스시ERICA",  distance: 8,  rating: 4.8, price: 3 },
            { name: "리틀파스타", distance: 3,  rating: 4.0, price: 2 },
            { name: "ERICA중화반점", distance: 12, rating: 3.9, price: 1 },
            { name: "공대앞치킨", distance: 7,  rating: 4.2, price: 2 },
            { name: "기숙사카페", distance: 2,  rating: 3.7, price: 1 }
        ];

        let currentKeyword = "";     // 검색어
        let currentSort = "none";    // distance, rating, price, none

        const grid = document.querySelector('.result-grid');
        const searchInput = document.querySelector('.search-input');
        const searchButton = document.querySelector('.search-button');
        const dropdown = document.querySelector('.dropdown');
        const recommendArea = document.querySelector('.recommend-area');

        /* ===== 정렬 메뉴 만들기 ===== */
        const sortMenu = document.createElement('div');
        sortMenu.className = 'sort-menu hidden';
        sortMenu.innerHTML = `
            <div data-sort="none">정렬 없음</div>
            <div data-sort="distance">위치순</div>
            <div data-sort="rating">별점순</div>
            <div data-sort="price">가격순</div>
        `;
        recommendArea.appendChild(sortMenu);

        dropdown.addEventListener('click', () => {
            sortMenu.classList.toggle('hidden');
        });

        sortMenu.addEventListener('click', (e) => {
            const sortType = e.target.dataset.sort;
            if (!sortType) return;
            currentSort = sortType;       // 선택한 정렬 옵션 기억
            sortMenu.classList.add('hidden');
            renderList();                 // 다시 그리기
        });

        /* ===== 검색 + 정렬 적용해서 리스트 렌더링 ===== */
        function getFilteredSortedList() {
            let list = restaurants.filter(r =>
                r.name.toLowerCase().includes(currentKeyword.toLowerCase())
            );

            if (currentSort === 'distance') {
                list.sort((a, b) => a.distance - b.distance);      // 가까운 순
            } else if (currentSort === 'rating') {
                list.sort((a, b) => b.rating - a.rating);          // 별점 높은 순
            } else if (currentSort === 'price') {
                list.sort((a, b) => a.price - b.price);            // 저렴한 순
            }
            return list;
        }

        function renderList() {
            const list = getFilteredSortedList();
            grid.innerHTML = "";

            if (list.length === 0) {
                const msg = document.createElement('p');
                msg.textContent = '조건에 맞는 식당이 없습니다.';
                msg.style.gridColumn = '1 / -1';
                msg.style.textAlign = 'center';
                msg.style.color = '#555';
                msg.style.margin = '20px 0';
                grid.appendChild(msg);
                return;
            }

            list.forEach(r => {
                const box = document.createElement('div');
                box.className = 'result-box';
                box.innerHTML = `
                    <div class="result-inner">
                        <div class="result-name">${r.name}</div>
                        <div>
                            위치 : 도보 ${r.distance}분<br>
                            별점 : ${r.rating.toFixed(1)}점<br>
                            가격 : ${"₩".repeat(r.price)}
                        </div>
                    </div>
                `;
                grid.appendChild(box);
            });
        }

        /* ===== 검색 이벤트 ===== */
        function doSearch() {
            currentKeyword = searchInput.value.trim();
            renderList();
        }

        searchButton.addEventListener('click', doSearch);
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') doSearch();
        });

        /* 처음 화면 렌더링 */
        renderList();
    });
</script>

</body>
</html>

